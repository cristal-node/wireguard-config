"use strict";var qrcodegen;!function(r){class g{constructor(t,e,r,s){if(this.version=t,this.errorCorrectionLevel=e,this.mask=s,this.modules=[],this.isFunction=[],t<g.MIN_VERSION||t>g.MAX_VERSION)throw"Version value out of range";if(s<-1||7<s)throw"Mask value out of range";this.size=4*t+17;let i=[];for(let t=0;t<this.size;t++)i.push(!1);for(let t=0;t<this.size;t++)this.modules.push(i.slice()),this.isFunction.push(i.slice());this.drawFunctionPatterns();r=this.addEccAndInterleave(r);if(this.drawCodewords(r),-1==s){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);var o=this.getPenaltyScore();o<e&&(s=t,e=o),this.applyMask(t)}}if(s<0||7<s)throw"Assertion error";this.mask=s,this.applyMask(s),this.drawFormatBits(s),this.isFunction=[]}static encodeText(t,e){t=r.QrSegment.makeSegments(t);return g.encodeSegments(t,e)}static encodeBinary(t,e){t=r.QrSegment.makeBytes(t);return g.encodeSegments([t],e)}static encodeSegments(t,e,r=1,s=40,i=-1,o=!0){if(!(g.MIN_VERSION<=r&&r<=s&&s<=g.MAX_VERSION)||i<-1||7<i)throw"Invalid value";let n,a;for(n=r;;n++){const u=8*g.getNumDataCodewords(n,e);var h=E.getTotalBits(t,n);if(h<=u){a=h;break}if(n>=s)throw"Data too long"}for(const f of[g.Ecc.MEDIUM,g.Ecc.QUARTILE,g.Ecc.HIGH])o&&a<=8*g.getNumDataCodewords(n,f)&&(e=f);let l=[];for(const c of t){M(c.mode.modeBits,4,l),M(c.numChars,c.mode.numCharCountBits(n),l);for(const m of c.getData())l.push(m)}if(l.length!=a)throw"Assertion error";const u=8*g.getNumDataCodewords(n,e);if(l.length>u)throw"Assertion error";if(M(0,Math.min(4,u-l.length),l),M(0,(8-l.length%8)%8,l),l.length%8!=0)throw"Assertion error";for(let t=236;l.length<u;t^=253)M(t,8,l);let d=[];for(;8*d.length<l.length;)d.push(0);return l.forEach((t,e)=>d[e>>>3]|=t<<7-(7&e)),new g(n,e,d,i)}getModule(t,e){return 0<=t&&t<this.size&&0<=e&&e<this.size&&this.modules[e][t]}drawCanvas(r,s,t){if(r<=0||s<0)throw"Value out of range";var e=(this.size+2*s)*r;t.width=e,t.height=e;let i=t.getContext("2d");for(let e=-s;e<this.size+s;e++)for(let t=-s;t<this.size+s;t++)i.fillStyle=this.getModule(t,e)?"#000000":"#FFFFFF",i.fillRect((t+s)*r,(e+s)*r,r,r)}toSvgString(r){if(r<0)throw"Border must be non-negative";let s=[];for(let e=0;e<this.size;e++)for(let t=0;t<this.size;t++)this.getModule(t,e)&&s.push(`M${t+r},${e+r}h1v1h-1z`);return`<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 ${this.size+2*r} ${this.size+2*r}" stroke="none">
	<rect width="100%" height="100%" fill="#FFFFFF"/>
	<path d="${s.join(" ")}" fill="#000000"/>
</svg>
`}drawFunctionPatterns(){for(let t=0;t<this.size;t++)this.setFunctionModule(6,t,t%2==0),this.setFunctionModule(t,6,t%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);var r=this.getAlignmentPatternPositions(),s=r.length;for(let e=0;e<s;e++)for(let t=0;t<s;t++)0==e&&0==t||0==e&&t==s-1||e==s-1&&0==t||this.drawAlignmentPattern(r[e],r[t]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(t){t=this.errorCorrectionLevel.formatBits<<3|t;let e=t;for(let t=0;t<10;t++)e=e<<1^1335*(e>>>9);var r=21522^(t<<10|e);if(r>>>15!=0)throw"Assertion error";for(let t=0;t<=5;t++)this.setFunctionModule(8,t,a(r,t));this.setFunctionModule(8,7,a(r,6)),this.setFunctionModule(8,8,a(r,7)),this.setFunctionModule(7,8,a(r,8));for(let t=9;t<15;t++)this.setFunctionModule(14-t,8,a(r,t));for(let t=0;t<8;t++)this.setFunctionModule(this.size-1-t,8,a(r,t));for(let t=8;t<15;t++)this.setFunctionModule(8,this.size-15+t,a(r,t));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(!(this.version<7)){let e=this.version;for(let t=0;t<12;t++)e=e<<1^7973*(e>>>11);var r=this.version<<12|e;if(r>>>18!=0)throw"Assertion error";for(let t=0;t<18;t++){var s=a(r,t),i=this.size-11+t%3,o=Math.floor(t/3);this.setFunctionModule(i,o,s),this.setFunctionModule(o,i,s)}}}drawFinderPattern(r,s){for(let e=-4;e<=4;e++)for(let t=-4;t<=4;t++){var i=Math.max(Math.abs(t),Math.abs(e)),o=r+t,n=s+e;0<=o&&o<this.size&&0<=n&&n<this.size&&this.setFunctionModule(o,n,2!=i&&4!=i)}}drawAlignmentPattern(r,s){for(let e=-2;e<=2;e++)for(let t=-2;t<=2;t++)this.setFunctionModule(r+t,s+e,1!=Math.max(Math.abs(t),Math.abs(e)))}setFunctionModule(t,e,r){this.modules[e][t]=r,this.isFunction[e][t]=!0}addEccAndInterleave(s){var t=this.version,e=this.errorCorrectionLevel;if(s.length!=g.getNumDataCodewords(t,e))throw"Invalid argument";var i=g.NUM_ERROR_CORRECTION_BLOCKS[e.ordinal][t];const o=g.ECC_CODEWORDS_PER_BLOCK[e.ordinal][t];t=Math.floor(g.getNumRawDataModules(t)/8);const n=i-t%i,a=Math.floor(t/i);let h=[];var l=g.reedSolomonComputeDivisor(o);for(let e=0,r=0;e<i;e++){let t=s.slice(r,r+a-o+(e<n?0:1));r+=t.length;var u=g.reedSolomonComputeRemainder(t,l);e<n&&t.push(0),h.push(t.concat(u))}let d=[];for(let r=0;r<h[0].length;r++)h.forEach((t,e)=>{(r!=a-o||e>=n)&&d.push(t[r])});if(d.length!=t)throw"Assertion error";return d}drawCodewords(s){if(s.length!=Math.floor(g.getNumRawDataModules(this.version)/8))throw"Invalid argument";let i=0;for(let r=this.size-1;1<=r;r-=2){6==r&&(r=5);for(let e=0;e<this.size;e++)for(let t=0;t<2;t++){var o=r-t,n=0==(r+1&2)?this.size-1-e:e;!this.isFunction[n][o]&&i<8*s.length&&(this.modules[n][o]=a(s[i>>>3],7-(7&i)),i++)}}if(i!=8*s.length)throw"Assertion error"}applyMask(s){if(s<0||7<s)throw"Mask value out of range";for(let r=0;r<this.size;r++)for(let e=0;e<this.size;e++){let t;switch(s){case 0:t=(e+r)%2==0;break;case 1:t=r%2==0;break;case 2:t=e%3==0;break;case 3:t=(e+r)%3==0;break;case 4:t=(Math.floor(e/3)+Math.floor(r/2))%2==0;break;case 5:t=e*r%2+e*r%3==0;break;case 6:t=(e*r%2+e*r%3)%2==0;break;case 7:t=((e+r)%2+e*r%3)%2==0;break;default:throw"Assertion error"}!this.isFunction[r][e]&&t&&(this.modules[r][e]=!this.modules[r][e])}}getPenaltyScore(){let i=0;for(let s=0;s<this.size;s++){let e=!1,r=0;var o=[0,0,0,0,0,0,0];for(let t=0;t<this.size;t++)this.modules[s][t]==e?(r++,5==r?i+=g.PENALTY_N1:5<r&&i++):(this.finderPenaltyAddHistory(r,o),e||(i+=this.finderPenaltyCountPatterns(o)*g.PENALTY_N3),e=this.modules[s][t],r=1);i+=this.finderPenaltyTerminateAndCount(e,r,o)*g.PENALTY_N3}for(let s=0;s<this.size;s++){let e=!1,r=0;var n=[0,0,0,0,0,0,0];for(let t=0;t<this.size;t++)this.modules[t][s]==e?(r++,5==r?i+=g.PENALTY_N1:5<r&&i++):(this.finderPenaltyAddHistory(r,n),e||(i+=this.finderPenaltyCountPatterns(n)*g.PENALTY_N3),e=this.modules[t][s],r=1);i+=this.finderPenaltyTerminateAndCount(e,r,n)*g.PENALTY_N3}for(let e=0;e<this.size-1;e++)for(let t=0;t<this.size-1;t++){var r=this.modules[e][t];r==this.modules[e][t+1]&&r==this.modules[e+1][t]&&r==this.modules[e+1][t+1]&&(i+=g.PENALTY_N2)}let t=0;for(const s of this.modules)t=s.reduce((t,e)=>t+(e?1:0),t);var e=this.size*this.size,e=Math.ceil(Math.abs(20*t-10*e)/e)-1;return i+=e*g.PENALTY_N4,i}getAlignmentPatternPositions(){if(1==this.version)return[];{var r=Math.floor(this.version/7)+2,s=32==this.version?26:2*Math.ceil((this.size-13)/(2*r-2));let e=[6];for(let t=this.size-7;e.length<r;t-=s)e.splice(1,0,t);return e}}static getNumRawDataModules(t){if(t<g.MIN_VERSION||t>g.MAX_VERSION)throw"Version number out of range";let e=(16*t+128)*t+64;var r;if(2<=t&&(r=Math.floor(t/7)+2,e-=(25*r-10)*r-55,7<=t&&(e-=36)),!(208<=e&&e<=29648))throw"Assertion error";return e}static getNumDataCodewords(t,e){return Math.floor(g.getNumRawDataModules(t)/8)-g.ECC_CODEWORDS_PER_BLOCK[e.ordinal][t]*g.NUM_ERROR_CORRECTION_BLOCKS[e.ordinal][t]}static reedSolomonComputeDivisor(e){if(e<1||255<e)throw"Degree out of range";let r=[];for(let t=0;t<e-1;t++)r.push(0);r.push(1);let s=1;for(let t=0;t<e;t++){for(let t=0;t<r.length;t++)r[t]=g.reedSolomonMultiply(r[t],s),t+1<r.length&&(r[t]^=r[t+1]);s=g.reedSolomonMultiply(s,2)}return r}static reedSolomonComputeRemainder(t,e){let r=e.map(t=>0);for(const s of t){const i=s^r.shift();r.push(0),e.forEach((t,e)=>r[e]^=g.reedSolomonMultiply(t,i))}return r}static reedSolomonMultiply(e,r){if(e>>>8!=0||r>>>8!=0)throw"Byte out of range";let s=0;for(let t=7;0<=t;t--)s=s<<1^285*(s>>>7),s^=(r>>>t&1)*e;if(s>>>8!=0)throw"Assertion error";return s}finderPenaltyCountPatterns(t){var e=t[1];if(e>3*this.size)throw"Assertion error";var r=0<e&&t[2]==e&&t[3]==3*e&&t[4]==e&&t[5]==e;return(r&&t[0]>=4*e&&t[6]>=e?1:0)+(r&&t[6]>=4*e&&t[0]>=e?1:0)}finderPenaltyTerminateAndCount(t,e,r){return t&&(this.finderPenaltyAddHistory(e,r),e=0),e+=this.size,this.finderPenaltyAddHistory(e,r),this.finderPenaltyCountPatterns(r)}finderPenaltyAddHistory(t,e){0==e[0]&&(t+=this.size),e.pop(),e.unshift(t)}}function M(e,r,s){if(r<0||31<r||e>>>r!=0)throw"Value out of range";for(let t=r-1;0<=t;t--)s.push(e>>>t&1)}function a(t,e){return 0!=(t>>>e&1)}g.MIN_VERSION=1,g.MAX_VERSION=40,g.PENALTY_N1=3,g.PENALTY_N2=3,g.PENALTY_N3=40,g.PENALTY_N4=10,g.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],g.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],r.QrCode=g;class E{constructor(t,e,r){if(this.mode=t,this.numChars=e,this.bitData=r,e<0)throw"Invalid argument";this.bitData=r.slice()}static makeBytes(t){var e=[];for(const r of t)M(r,8,e);return new E(E.Mode.BYTE,t.length,e)}static makeNumeric(e){if(!this.NUMERIC_REGEX.test(e))throw"String contains non-numeric characters";var r=[];for(let t=0;t<e.length;){var s=Math.min(e.length-t,3);M(parseInt(e.substr(t,s),10),3*s+1,r),t+=s}return new E(E.Mode.NUMERIC,e.length,r)}static makeAlphanumeric(t){if(!this.ALPHANUMERIC_REGEX.test(t))throw"String contains unencodable characters in alphanumeric mode";var e=[];let r;for(r=0;r+2<=t.length;r+=2){var s=45*E.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r));M(s+=E.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r+1)),11,e)}return r<t.length&&M(E.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r)),6,e),new E(E.Mode.ALPHANUMERIC,t.length,e)}static makeSegments(t){return""==t?[]:this.NUMERIC_REGEX.test(t)?[E.makeNumeric(t)]:this.ALPHANUMERIC_REGEX.test(t)?[E.makeAlphanumeric(t)]:[E.makeBytes(E.toUtf8ByteArray(t))]}static makeEci(t){var e=[];if(t<0)throw"ECI assignment value out of range";if(t<128)M(t,8,e);else if(t<16384)M(2,2,e),M(t,14,e);else{if(!(t<1e6))throw"ECI assignment value out of range";M(6,3,e),M(t,21,e)}return new E(E.Mode.ECI,0,e)}getData(){return this.bitData.slice()}static getTotalBits(t,e){let r=0;for(const i of t){var s=i.mode.numCharCountBits(e);if(i.numChars>=1<<s)return 1/0;r+=4+s+i.bitData.length}return r}static toUtf8ByteArray(e){e=encodeURI(e);let r=[];for(let t=0;t<e.length;t++)"%"!=e.charAt(t)?r.push(e.charCodeAt(t)):(r.push(parseInt(e.substr(t+1,2),16)),t+=2);return r}}E.NUMERIC_REGEX=/^[0-9]*$/,E.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,E.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",r.QrSegment=E}(qrcodegen=qrcodegen||{}),function(t){!function(t){class e{constructor(t,e){this.ordinal=t,this.formatBits=e}}e.LOW=new e(0,1),e.MEDIUM=new e(1,0),e.QUARTILE=new e(2,3),e.HIGH=new e(3,2),t.Ecc=e}(t.QrCode||(t.QrCode={}))}(qrcodegen=qrcodegen||{}),function(t){!function(t){class e{constructor(t,e){this.modeBits=t,this.numBitsCharCount=e}numCharCountBits(t){return this.numBitsCharCount[Math.floor((t+7)/17)]}}e.NUMERIC=new e(1,[10,12,14]),e.ALPHANUMERIC=new e(2,[9,11,13]),e.BYTE=new e(4,[8,16,16]),e.KANJI=new e(8,[8,10,12]),e.ECI=new e(7,[0,0,0]),t.Mode=e}(t.QrSegment||(t.QrSegment={}))}(qrcodegen=qrcodegen||{});